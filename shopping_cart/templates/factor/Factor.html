{% load static %}
{% load jalali_tags %}
{% load humanize %}

<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'factor_static/style.css' %}">
    <title>فاکتور</title>
</head>
<body>
<div class="print">
    <button onClick="window.print()">پرینت / دانلود</button>
</div>

<div id="factor_container">


    <div id="factor_header">
        <div id="header_right">
            <div id="header_boxr">صورت حساب آقای / خانم : <span class="mr-1">{{ data.user_id.get_full_name }}</span>
            </div>
            <div id="header_boxr"> تلفن : <span class="mr-1">0{{ data.user_id.phone|cut:'+98' }}</span></div>
            <div id="header_boxr">آدرس : <span class="mr-1">{{ addres.address }}</span></div>

        </div>
        <div id="header_center">
            <div id="center_top">فاکتور فروش</div>
            <div id="center_top">لباس فروشی</div>

        </div>
        <div id="header_left">
            <div id="header_boxl">تاریخ : <span class="mr-1">{{ data.date|to_jalali:"%Y/%m/%d" }}</span></div>
            <div id="header_boxl">شماره فاکتور : <span class="mr-1">{{ data.Order_number }}</span></div>
            <div id="header_boxl">شهر / استان : <span class="mr-1">{{ addres.city }} / {{ addres.city_location }}</span>
            </div>

        </div>
    </div>

    <div style="position: relative" id="factor_body">

        <table class="table1">
            <tbody>
            <tr class="main_table">
                <td width="20">
                    ردیف
                </td>
                <td width="50">
                    کد کالا
                </td>
                <td width="300">
                    نام کالا
                </td>
                <td width="70">
                    رنگ
                </td>
                <td width="70">
                    سایز
                </td>
                <td width="50">
                    تعداد
                </td>
                <td width="100">
                    بهای واحد
                </td>
                <td width="100">
                    مبلغ کل
                </td>

            </tr>
            {% for factor_val in data.cart_set.all %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>
                        {{ factor_val.product_id.id }}
                    </td>
                    <td>
                        {{ factor_val.product_id.product_name }}
                    </td>
                    <td>
                        {{ factor_val.color_size.product_color.product_color }}
                    </td>
                    <td>
                        {{ factor_val.color_size.product_size.product_size }}
                        ({{ factor_val.color_size.product_size.product_unit }})
                    </td>
                    <td class="">
                        {{ factor_val.count }}
                    </td>
                    <td>
                        {{ factor_val.final_price|add:"0"|intcomma:False }}
                    </td>
                    <td>
                        {{ factor_val.old_total_price_without_discount|intcomma:False }}
                    </td>
                </tr>
            {% endfor %}


            </tbody>
        </table>

        <table class="table2">
            <tbody class="table_color">
            <tr>
                <td width="150">
                    جمع کل فاکتور
                </td>
                <td class="total">{{ data.total_price_without_discount|intcomma:False }}</td>
            </tr>
            <tr>
                <td>
                    تخفیف
                </td>
                <td class="takhfif">{{ takhfif |intcomma:False }}</td>
            </tr>
            <tr>
                <td>
                    هزینه ارسال
                </td>
                <td class="">
                    {% if data.total_price > 500000 %}
                        0
                    {% else %}
                        30,000
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td>
                    مبلغ قابل پرداخت
                </td>
                <td class="alltotal">{{ data.total_price_with_delivery|intcomma:False }}</td>
            </tr>
            <tr>
                <td>
                    مبلغ قابل پرداخت به حروف
                </td>
                <td class="horuf_str">
                     {{ work_number }}   تومان
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div id="factor_footer">
        <div id="footer_top">توضیحات: <span> این فاکتور هیچ وجاهت قانونی ندارد فقط بذای تست پروژه میباشد</span></div>
        <br><br>
        <div class="pardakht"><img class="pardakt_img" src="{% static 'factor_static/img_factor/pardakt.png' %}"></div>
        {% if send.send %}
            <div class="ersal"><img class="ersal_img" src="{% static 'factor_static/img_factor/ersalshod.png' %}"></div>
        {% endif %}

        <div class="flex">
            <div id="footer_left">امضا خریدار:</div>
            <div></div>
            <div id="footer_left">امضا فروشنده:
                <div><img class="sign" src="{% static 'factor_static/img_factor/sighn.png' %}" alt="sign"></div>
            </div>
        </div>
    </div>

    <center style="-webkit-print-color-adjust: exact;color-adjust: exact !important; height: 20px;overflow: hidden;margin-bottom: 10px;">
        <div style="font-size:0;position:relative;width:686px;height:30px;">
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:0px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:6px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:12px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:22px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:28px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:36px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:44px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:50px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:56px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:66px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:74px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:80px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:88px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:94px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:104px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:110px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:8px;height:30px;position:absolute;left:114px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:124px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:132px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:136px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:142px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:154px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:158px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:8px;height:30px;position:absolute;left:166px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:176px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:184px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:194px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:198px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:204px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:212px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:220px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:230px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:236px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:242px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:8px;height:30px;position:absolute;left:246px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:256px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:264px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:268px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:274px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:286px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:292px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:302px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:308px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:314px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:322px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:330px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:338px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:344px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:352px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:360px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:366px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:374px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:380px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:388px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:396px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:402px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:412px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:418px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:424px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:432px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:440px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:446px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:454px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:462px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:468px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:478px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:484px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:490px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:500px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:506px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:516px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:520px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:528px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:532px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:538px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:550px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:554px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:8px;height:30px;position:absolute;left:562px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:572px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:582px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:588px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:594px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:604px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:610px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:616px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:628px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:632px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:638px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:646px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:654px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:660px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:6px;height:30px;position:absolute;left:670px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:2px;height:30px;position:absolute;left:678px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:4px;height:30px;position:absolute;left:682px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:0px;height:30px;position:absolute;left:686px;top:0px;">&nbsp;</div>
            <div style="background-color:black;width:0px;height:30px;position:absolute;left:686px;top:0px;">&nbsp;</div>
        </div>
    </center>

</div>

</body>
</html>